import{d as B,j as i,u as M,l as T,m as I,C as V,o as r,n as l,p as n,w as y,v as $,F as K,s as O,t as C,q as E,z as F}from"./index-4a3460b5.js";const G={class:"bg-base-100 p-4 rounded text-center"},L={class:"flex"},j=["value"],J={class:"text-main mt-5"},U=n("div",{class:"mt-4 mb-4"}," If the chain is not offically support on Keplr, you can submit these parameters to enable Keplr. ",-1),R=B({__name:"keplr",setup(q){const D=i(""),o=i(""),d=M(),a=i({});T(()=>{const e=I();a.value=e.current||Object.values(d.chains)[0],u()});async function u(){var p,h,m,f,x,v,g,k,_,w,P;const e=a.value;if(!((h=(p=e.endpoints)==null?void 0:p.rest)!=null&&h.at(0)))throw new Error("Endpoint does not set");const S=(await V.newDefault(((f=(m=e.endpoints.rest)==null?void 0:m.at(0))==null?void 0:f.address)||"").getBaseBlockLatest()).block.header.chain_id,b=e.keplrPriceStep||{low:.01,average:.025,high:.03},c=((x=e.assets[0].denom_units.find(A=>A.denom===e.assets[0].symbol.toLowerCase()))==null?void 0:x.exponent)||6;o.value=JSON.stringify({chainId:S,chainName:e.chainName,rpc:(k=(g=(v=e.endpoints)==null?void 0:v.rpc)==null?void 0:g.at(0))==null?void 0:k.address,rest:(P=(w=(_=e.endpoints)==null?void 0:_.rest)==null?void 0:w.at(0))==null?void 0:P.address,bip44:{coinType:Number(e.coinType)},coinType:Number(e.coinType),bech32Config:{bech32PrefixAccAddr:e.bech32Prefix,bech32PrefixAccPub:`${e.bech32Prefix}pub`,bech32PrefixValAddr:`${e.bech32Prefix}valoper`,bech32PrefixValPub:`${e.bech32Prefix}valoperpub`,bech32PrefixConsAddr:`${e.bech32Prefix}valcons`,bech32PrefixConsPub:`${e.bech32Prefix}valconspub`},currencies:[{coinDenom:e.assets[0].symbol,coinMinimalDenom:e.assets[0].base,coinDecimals:c,coinGeckoId:e.assets[0].coingecko_id||"unknown"}],feeCurrencies:[{coinDenom:e.assets[0].symbol,coinMinimalDenom:e.assets[0].base,coinDecimals:c,coinGeckoId:e.assets[0].coingecko_id||"unknown",gasPriceStep:b}],gasPriceStep:b,stakeCurrency:{coinDenom:e.assets[0].symbol,coinMinimalDenom:e.assets[0].base,coinDecimals:c,coinGeckoId:e.assets[0].coingecko_id||"unknown"},features:["ibc-transfer","ibc-go","eth-address-gen","eth-key-sign"]},null,"	")}function N(){window.keplr&&(console.log("xxl 0000 abc : ",o.value),window.keplr.experimentalSuggestChain(JSON.parse(o.value)).catch(e=>{console.log("xxl e ",e),D.value=e}))}return(e,t)=>(r(),l("div",G,[n("div",L,[y(n("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>a.value=s),class:"select select-bordered mx-5",onChange:u},[(r(!0),l(K,null,O(E(d).chains,s=>(r(),l("option",{value:s},C(s.chainName),9,j))),256))],544),[[$,a.value]]),n("button",{class:"btn !bg-yes !border-yes text-white px-10",onClick:N},"Add "+C(a.value.chainName)+" TO Keplr Wallet",1)]),n("div",J,[y(n("textarea",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.value=s),class:"textarea textarea-bordered w-full",rows:"15"},null,512),[[F,o.value]])]),U]))}});export{R as default};
